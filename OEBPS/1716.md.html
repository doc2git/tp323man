<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops">
  <head>
    <meta http-equiv="Default-Style" content="text/html; charset=utf-8"/>
    <link rel="stylesheet" type="text/css" href="styles.css"/>
    <title>Test Book</title>
  </head>
  <body class="book-content">
    <p>URL伪静态通常是为了满足更好的SEO效果，ThinkPHP支持伪静态URL设置，可以通过设置<code>URL_HTML_SUFFIX</code>参数随意在URL的最后增加你想要的静态后缀，而不会影响当前操作的正常执行。例如，我们设置</p>
    <pre>
      <code>'URL_HTML_SUFFIX'=&gt;'shtml'</code>
    </pre>
    <p>的话，我们可以把下面的URL <code>http://serverName/Home/Blog/read/id/1</code> 变成 <code>http://serverName/Home/Blog/read/id/1.shtml</code></p>
    <p>后者更具有静态页面的URL特征，但是具有和前面的URL相同的执行效果，并且不会影响原来参数的使用。</p>
    <p>默认情况下，伪静态的设置为<code>html</code>，如果我们设置伪静态后缀为空，</p>
    <pre>
      <code>'URL_HTML_SUFFIX'=&gt;''</code>
    </pre>
    <p>则可以支持所有的静态后缀，并且会记录当前的伪静态后缀到常量 <code>__EXT__</code> ，但不会影响正常的页面访问。</p>
    <p>例如：</p>
    <pre>
      <code>http://serverName/Home/blog/3.html
http://serverName/Home/blog/3.shtml
http://serverName/Home/blog/3.xml
http://serverName/Home/blog/3.pdf</code>
    </pre>
    <p>都可以正常访问，如果要获取当前的伪静态后缀，通过常量 <code>__EXT__</code> 获取即可。</p>
    <p>如果希望支持多个伪静态后缀，可以直接设置如下：</p>
    <pre>
      <code>// 多个伪静态后缀设置 用|分割
'URL_HTML_SUFFIX' =&gt; 'html|shtml|xml' </code>
    </pre>
    <p>那么，当访问 <code>http://serverName/Home/blog/3.pdf</code> 的时候会报系统错误。</p>
    <p>可以设置禁止访问的URL后缀，例如：</p>
    <pre>
      <code>'URL_DENY_SUFFIX' =&gt; 'pdf|ico|png|gif|jpg', // URL禁止访问的后缀设置</code>
    </pre>
    <p>如果访问 <code>http://serverName/Home/blog/3.pdf</code> 就会直接返回404错误。</p>
    <blockquote class="">
      <p><strong>注意：</strong><br/><code>URL_DENY_SUFFIX</code>的优先级比<code>URL_HTML_SUFFIX</code>要高。</p>
    </blockquote>
  </body>
</html>
