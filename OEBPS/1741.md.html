<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops">
  <head>
    <meta http-equiv="Default-Style" content="text/html; charset=utf-8"/>
    <link rel="stylesheet" type="text/css" href="styles.css"/>
    <title>Test Book</title>
  </head>
  <body class="book-content">
    <p>limit方法也是模型类的连贯操作方法之一，主要用于指定查询和操作的数量，特别在分页查询的时候使用较多。ThinkPHP的limit方法可以兼容所有的数据库驱动类的。</p>
    <h2 id="%E9%99%90%E5%88%B6%E7%BB%93%E6%9E%9C%E6%95%B0%E9%87%8F">限制结果数量</h2>
    <p>例如获取满足要求的10个用户，如下调用即可：</p>
    <pre>
      <code>$User = M('User');
$User-&gt;where('status=1')-&gt;field('id,name')-&gt;limit(10)-&gt;select();</code>
    </pre>
    <p>limit方法也可以用于写操作，例如更新满足要求的3条数据：</p>
    <pre>
      <code>$User = M('User');
$User-&gt;where('score=100')-&gt;limit(3)-&gt;save(array('level'=&gt;'A'));</code>
    </pre>
    <h2 id="%E5%88%86%E9%A1%B5%E6%9F%A5%E8%AF%A2">分页查询</h2>
    <p>用于文章分页查询是limit方法比较常用的场合，例如：</p>
    <pre>
      <code>$Article = M('Article');
$Article-&gt;limit('10,25')-&gt;select();</code>
    </pre>
    <p>表示查询文章数据，从第10行开始的25条数据（可能还取决于where条件和order排序的影响 这个暂且不提）。</p>
    <p>你也可以这样使用，作用是一样的：</p>
    <pre>
      <code>$Article = M('Article');
$Article-&gt;limit(10,25)-&gt;select();</code>
    </pre>
    <p>对于大数据表，尽量使用limit限制查询结果，否则会导致很大的内存开销和性能问题。</p>
  </body>
</html>
