<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops">
  <head>
    <meta http-equiv="Default-Style" content="text/html; charset=utf-8"/>
    <link rel="stylesheet" type="text/css" href="styles.css"/>
    <title>Test Book</title>
  </head>
  <body class="book-content">
    <h2 id="%E6%83%AF%E4%BE%8B%E9%85%8D%E7%BD%AE-1">惯例配置</h2>
    <h3 id="%E5%BA%94%E7%94%A8%E8%AE%BE%E5%AE%9A">应用设定</h3>
    <pre>
      <code>'APP_USE_NAMESPACE'     =&gt;  true,    // 应用类库是否使用命名空间 3.2.1新增
'APP_SUB_DOMAIN_DEPLOY' =&gt;  false,   // 是否开启子域名部署
'APP_SUB_DOMAIN_RULES'  =&gt;  array(), // 子域名部署规则
'APP_DOMAIN_SUFFIX'     =&gt;  '', // 域名后缀 如果是com.cn net.cn 之类的后缀必须设置    
'ACTION_SUFFIX'         =&gt;  '', // 操作方法后缀
'MULTI_MODULE'          =&gt;  true, // 是否允许多模块 如果为false 则必须设置 DEFAULT_MODULE
'MODULE_DENY_LIST'      =&gt;  array('Common','Runtime'), // 禁止访问的模块列表
'MODULE_ALLOW_LIST'     =&gt;  array(),    // 允许访问的模块列表
'CONTROLLER_LEVEL'      =&gt;  1,
'APP_AUTOLOAD_LAYER'    =&gt;  'Controller,Model', // 自动加载的应用类库层（针对非命名空间定义类库） 3.2.1新增
'APP_AUTOLOAD_PATH'     =&gt;  '', // 自动加载的路径（针对非命名空间定义类库） 3.2.1新增</code>
    </pre>
    <h3 id="%E9%BB%98%E8%AE%A4%E8%AE%BE%E5%AE%9A">默认设定</h3>
    <pre>
      <code>'DEFAULT_M_LAYER'       =&gt;  'Model', // 默认的模型层名称
'DEFAULT_C_LAYER'       =&gt;  'Controller', // 默认的控制器层名称
'DEFAULT_V_LAYER'       =&gt;  'View', // 默认的视图层名称
'DEFAULT_LANG'          =&gt;  'zh-cn', // 默认语言
'DEFAULT_THEME'         =&gt;  '', // 默认模板主题名称
'DEFAULT_MODULE'        =&gt;  'Home',  // 默认模块
'DEFAULT_CONTROLLER'    =&gt;  'Index', // 默认控制器名称
'DEFAULT_ACTION'        =&gt;  'index', // 默认操作名称
'DEFAULT_CHARSET'       =&gt;  'utf-8', // 默认输出编码
'DEFAULT_TIMEZONE'      =&gt;  'PRC',  // 默认时区
'DEFAULT_AJAX_RETURN'   =&gt;  'JSON',  // 默认AJAX 数据返回格式,可选JSON XML ...
'DEFAULT_JSONP_HANDLER' =&gt;  'jsonpReturn', // 默认JSONP格式返回的处理方法
'DEFAULT_FILTER'        =&gt;  'htmlspecialchars', // 默认参数过滤方法 用于I函数...</code>
    </pre>
    <h3 id="cookie%E8%AE%BE%E7%BD%AE-1">Cookie设置</h3>
    <pre>
      <code>'COOKIE_EXPIRE'         =&gt;  0,    // Cookie有效期
'COOKIE_DOMAIN'         =&gt;  '',      // Cookie有效域名
'COOKIE_PATH'           =&gt;  '/',     // Cookie路径
'COOKIE_PREFIX'         =&gt;  '',      // Cookie前缀 避免冲突
'COOKIE_HTTPONLY'       =&gt;  '',     // Cookie的httponly属性 3.2.2新增</code>
    </pre>
    <h3 id="%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E7%BD%AE">数据库设置</h3>
    <pre>
      <code>'DB_TYPE'               =&gt;  '',     // 数据库类型
'DB_HOST'               =&gt;  '', // 服务器地址
'DB_NAME'               =&gt;  '',          // 数据库名
'DB_USER'               =&gt;  '',      // 用户名
'DB_PWD'                =&gt;  '',          // 密码
'DB_PORT'               =&gt;  '',        // 端口
'DB_PREFIX'             =&gt;  '',    // 数据库表前缀
'DB_FIELDTYPE_CHECK'    =&gt;  false,       // 是否进行字段类型检查 3.2.3版本废弃
'DB_FIELDS_CACHE'       =&gt;  true,        // 启用字段缓存
'DB_CHARSET'            =&gt;  'utf8',      // 数据库编码默认采用utf8
'DB_DEPLOY_TYPE'        =&gt;  0, // 数据库部署方式:0 集中式(单一服务器),1 分布式(主从服务器)
'DB_RW_SEPARATE'        =&gt;  false,       // 数据库读写是否分离 主从式有效
'DB_MASTER_NUM'         =&gt;  1, // 读写分离后 主服务器数量
'DB_SLAVE_NO'           =&gt;  '', // 指定从服务器序号
'DB_SQL_BUILD_CACHE'    =&gt;  false, // 数据库查询的SQL创建缓存 3.2.3版本废弃
'DB_SQL_BUILD_QUEUE'    =&gt;  'file',   // SQL缓存队列的缓存方式 支持 file xcache和apc 3.2.3版本废弃
'DB_SQL_BUILD_LENGTH'   =&gt;  20, // SQL缓存的队列长度 3.2.3版本废弃
'DB_SQL_LOG'            =&gt;  false, // SQL执行日志记录 3.2.3版本废弃
'DB_BIND_PARAM'         =&gt;  false, // 数据库写入数据自动参数绑定
'DB_DEBUG'              =&gt;  false,  // 数据库调试模式 3.2.3新增 
'DB_LITE'               =&gt;  false,  // 数据库Lite模式 3.2.3新增 </code>
    </pre>
    <h3 id="%E6%95%B0%E6%8D%AE%E7%BC%93%E5%AD%98%E8%AE%BE%E7%BD%AE">数据缓存设置</h3>
    <pre>
      <code>'DATA_CACHE_TIME'       =&gt;  0,      // 数据缓存有效期 0表示永久缓存
'DATA_CACHE_COMPRESS'   =&gt;  false,   // 数据缓存是否压缩缓存
'DATA_CACHE_CHECK'      =&gt;  false,   // 数据缓存是否校验缓存
'DATA_CACHE_PREFIX'     =&gt;  '',     // 缓存前缀
'DATA_CACHE_TYPE'       =&gt;  'File',  // 数据缓存类型,支持:File|Db|Apc|Memcache|Shmop|Sqlite|Xcache|Apachenote|Eaccelerator
'DATA_CACHE_PATH'       =&gt;  TEMP_PATH,// 缓存路径设置 (仅对File方式缓存有效)
'DATA_CACHE_SUBDIR'     =&gt;  false,    // 使用子目录缓存 (自动根据缓存标识的哈希创建子目录)
'DATA_PATH_LEVEL'       =&gt;  1,        // 子目录缓存级别</code>
    </pre>
    <h3 id="%E9%94%99%E8%AF%AF%E8%AE%BE%E7%BD%AE">错误设置</h3>
    <pre>
      <code>'ERROR_MESSAGE'         =&gt;  '页面错误！请稍后再试～',//错误显示信息,非调试模式有效
'ERROR_PAGE'            =&gt;  '', // 错误定向页面
'SHOW_ERROR_MSG'        =&gt;  false,    // 显示错误信息
'TRACE_MAX_RECORD'      =&gt;  100,    // 每个级别的错误信息 最大记录数</code>
    </pre>
    <h3 id="%E6%97%A5%E5%BF%97%E8%AE%BE%E7%BD%AE">日志设置</h3>
    <pre>
      <code>'LOG_RECORD'            =&gt;  false,   // 默认不记录日志
'LOG_TYPE'              =&gt;  'File', // 日志记录类型 默认为文件方式
'LOG_LEVEL'             =&gt;  'EMERG,ALERT,CRIT,ERR',// 允许记录的日志级别
'LOG_EXCEPTION_RECORD'  =&gt;  false,    // 是否记录异常信息日志</code>
    </pre>
    <h3 id="session%E8%AE%BE%E7%BD%AE">SESSION设置</h3>
    <pre>
      <code>'SESSION_AUTO_START'    =&gt;  true,    // 是否自动开启Session
'SESSION_OPTIONS'       =&gt;  array(), // session 配置数组 支持type name id path expire domain 等参数
'SESSION_TYPE'          =&gt;  '', // session hander类型 默认无需设置 除非扩展了session hander驱动
'SESSION_PREFIX'        =&gt;  '', // session 前缀</code>
    </pre>
    <h3 id="%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E%E8%AE%BE%E7%BD%AE">模板引擎设置</h3>
    <pre>
      <code>'TMPL_CONTENT_TYPE'     =&gt;  'text/html', // 默认模板输出类型
'TMPL_ACTION_ERROR'     =&gt;  THINK_PATH.'Tpl/dispatch_jump.tpl', // 默认错误跳转对应的模板文件
'TMPL_ACTION_SUCCESS'   =&gt;  THINK_PATH.'Tpl/dispatch_jump.tpl', // 默认成功跳转对应的模板文件
'TMPL_EXCEPTION_FILE'   =&gt;  THINK_PATH.'Tpl/think_exception.tpl',// 异常页面的模板文件
'TMPL_DETECT_THEME'     =&gt;  false,       // 自动侦测模板主题
'TMPL_TEMPLATE_SUFFIX'  =&gt;  '.html',     // 默认模板文件后缀
'TMPL_FILE_DEPR'        =&gt;  '/', //模板文件CONTROLLER_NAME与ACTION_NAME之间的分割符
'TMPL_ENGINE_TYPE'      =&gt;  'Think',     // 默认模板引擎 以下设置仅对使用Think模板引擎有效
'TMPL_CACHFILE_SUFFIX'  =&gt;  '.php',      // 默认模板缓存后缀
'TMPL_DENY_FUNC_LIST'   =&gt;  'echo,exit',    // 模板引擎禁用函数
'TMPL_DENY_PHP'         =&gt;  false, // 默认模板引擎是否禁用PHP原生代码
'TMPL_L_DELIM'          =&gt;  '{',            // 模板引擎普通标签开始标记
'TMPL_R_DELIM'          =&gt;  '}',            // 模板引擎普通标签结束标记
'TMPL_VAR_IDENTIFY'     =&gt;  'array',     // 模板变量识别。留空自动判断,参数为'obj'则表示对象
'TMPL_STRIP_SPACE'      =&gt;  true,       // 是否去除模板文件里面的html空格与换行
'TMPL_CACHE_ON'         =&gt;  true,        // 是否开启模板编译缓存,设为false则每次都会重新编译
'TMPL_CACHE_PREFIX'     =&gt;  '',         // 模板缓存前缀标识，可以动态改变
'TMPL_CACHE_TIME'       =&gt;  0,         // 模板缓存有效期 0 为永久，(以数字为值，单位:秒)
'TMPL_LAYOUT_ITEM'      =&gt;  '{__CONTENT__}', // 布局模板的内容替换标识
'LAYOUT_ON'             =&gt;  false, // 是否启用布局
'LAYOUT_NAME'           =&gt;  'layout', // 当前布局名称 默认为layout</code>
    </pre>
    <h3 id="url%E8%AE%BE%E7%BD%AE">URL设置</h3>
    <pre>
      <code>'URL_CASE_INSENSITIVE'  =&gt;  true,   // 默认false 表示URL区分大小写 true则表示不区分大小写
'URL_MODEL'             =&gt;  1,       // URL访问模式,可选参数0、1、2、3,代表以下四种模式：
// 0 (普通模式); 1 (PATHINFO 模式); 2 (REWRITE  模式); 3 (兼容模式)  默认为PATHINFO 模式
'URL_PATHINFO_DEPR'     =&gt;  '/',    // PATHINFO模式下，各参数之间的分割符号
'URL_PATHINFO_FETCH'    =&gt;  'ORIG_PATH_INFO,REDIRECT_PATH_INFO,REDIRECT_URL', // 用于兼容判断PATH_INFO 参数的SERVER替代变量列表
'URL_REQUEST_URI'       =&gt;  'REQUEST_URI', // 获取当前页面地址的系统变量 默认为REQUEST_URI
'URL_HTML_SUFFIX'       =&gt;  'html',  // URL伪静态后缀设置
'URL_DENY_SUFFIX'       =&gt;  'ico|png|gif|jpg', // URL禁止访问的后缀设置
'URL_PARAMS_BIND'       =&gt;  true, // URL变量绑定到Action方法参数
'URL_PARAMS_BIND_TYPE'  =&gt;  0, // URL变量绑定的类型 0 按变量名绑定 1 按变量顺序绑定
'URL_404_REDIRECT'      =&gt;  '', // 404 跳转页面 部署模式有效
'URL_ROUTER_ON'         =&gt;  false,   // 是否开启URL路由
'URL_ROUTE_RULES'       =&gt;  array(), // 默认路由规则 针对模块
'URL_MAP_RULES'         =&gt;  array(), // URL映射定义规则</code>
    </pre>
    <h3 id="%E7%B3%BB%E7%BB%9F%E5%8F%98%E9%87%8F%E5%90%8D%E7%A7%B0%E8%AE%BE%E7%BD%AE">系统变量名称设置</h3>
    <pre>
      <code>'VAR_MODULE'            =&gt;  'm',     // 默认模块获取变量
'VAR_CONTROLLER'        =&gt;  'c',    // 默认控制器获取变量
'VAR_ACTION'            =&gt;  'a',    // 默认操作获取变量
'VAR_AJAX_SUBMIT'       =&gt;  'ajax',  // 默认的AJAX提交变量
'VAR_JSONP_HANDLER'     =&gt;  'callback',
'VAR_PATHINFO'          =&gt;  's',    // 兼容模式PATHINFO获取变量例如 ?s=/module/action/id/1 后面的参数取决于URL_PATHINFO_DEPR
'VAR_TEMPLATE'          =&gt;  't',    // 默认模板切换变量
'VAR_ADDON'             =&gt;  'addon',    // 默认的插件控制器命名空间变量 3.2.2新增</code>
    </pre>
    <h3 id="%E5%85%B6%E4%BB%96%E8%AE%BE%E7%BD%AE">其他设置</h3>
    <pre>
      <code>'HTTP_CACHE_CONTROL'    =&gt;  'private',  // 网页缓存控制
'CHECK_APP_DIR'         =&gt;  true,       // 是否检查应用目录是否创建
'FILE_UPLOAD_TYPE'      =&gt;  'Local',    // 文件上传方式
'DATA_CRYPT_TYPE'       =&gt;  'Think',    // 数据加密方式</code>
    </pre>
  </body>
</html>
