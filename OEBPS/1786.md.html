<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops">
  <head>
    <meta http-equiv="Default-Style" content="text/html; charset=utf-8"/>
    <link rel="stylesheet" type="text/css" href="styles.css"/>
    <title>Test Book</title>
  </head>
  <body class="book-content">
    <p>每个模块的模板文件是独立的，为了对模板文件更加有效的管理，ThinkPHP对模板文件进行目录划分，默认的模板文件定义规则是：</p>
    <pre>
      <code>视图目录/[模板主题/]控制器名/操作名+模板后缀</code>
    </pre>
    <p>默认的视图目录是<strong>模块的View目录</strong>（模块可以有多个视图文件目录，这取决于你的应用需要），框架的默认视图文件后缀是<code>.html</code>。 新版模板主题默认是空（表示不启用模板主题功能）。</p>
    <p>在每个模板主题下面，是以模块下面的控制器名为目录，然后是每个控制器的具体操作模板文件，例如：</p>
    <p>User控制器的add操作 对应的模板文件就应该是：<code>./Application/Home/View/User/add.html</code></p>
    <p>如果你的默认视图层不是View，例如：</p>
    <pre>
      <code>'DEFAULT_V_LAYER'       =&gt;  'Template', // 设置默认的视图层名称</code>
    </pre>
    <p>那么，对应的模板文件就变成了：<code>./Application/Home/Template/User/add.html</code>。</p>
    <p>模板文件的默认后缀的情况是<code>.html</code>，也可以通过 <strong>TMPL_TEMPLATE_SUFFIX</strong> 来配置成其他的。例如，我们可以配置：</p>
    <pre>
      <code>'TMPL_TEMPLATE_SUFFIX'=&gt;'.tpl'</code>
    </pre>
    <p>定义后，User控制器的add操作 对应的模板文件就变成是： <code>./Application/Home/View/User/add.tpl</code></p>
    <p>如果觉得目录结构太深，可以通过设置 <strong>TMPL_FILE_DEPR</strong> 参数来配置简化模板的目录层次，例如设置：</p>
    <pre>
      <code>'TMPL_FILE_DEPR'=&gt;'_'</code>
    </pre>
    <p>默认的模板文件就变成了：<code>./Application/Home/View/User_add.html</code></p>
    <p>支持把模板目录设置到模块目录之外，有两种方式：</p>
    <p>
      <strong>一、改变所有模块的模板文件目录</strong>
    </p>
    <p>可以通过设置TMPL_PATH常量来改变所有模块的模板目录所在，例如：</p>
    <pre>
      <code>define('TMPL_PATH','./Template/');</code>
    </pre>
    <p>原来的<code>./Application/Home/View/User/add.html</code>变成了<code>./Template/Home/User/add.html</code>。</p>
    <p><strong>二、改变某个模块的模板文件目录</strong><br/>
我们可以在模块配置文件中设置VIEW_PATH参数单独定义某个模块的视图目录，例如：</p>
    <pre>
      <code>'VIEW_PATH'=&gt;'./Theme/'</code>
    </pre>
    <p>把当前模块的视图目录指定到最外层的Theme目录下面，而不是放到当前模块的View目录下面。 原来的<code>./Application/Home/View/User/add.html</code>变成了<code>./Theme/User/add.html</code>。</p>
    <blockquote class="">
      <p>如果同时定义了TMPL_PATH常量和VIEW_PATH设置参数，那么以当前模块的VIEW_PATH参数设置优先。</p>
    </blockquote>
  </body>
</html>
